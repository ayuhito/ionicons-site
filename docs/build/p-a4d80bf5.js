import{c as n,a as t,u as r}from"./p-b18ab5ec.js";!function(n){if(!n.fetch){var t="URLSearchParams"in n,r="Symbol"in n&&"iterator"in Symbol,e="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(n){return!1}}(),i="FormData"in n,u="ArrayBuffer"in n;if(u)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=function(n){return n&&DataView.prototype.isPrototypeOf(n)},c=ArrayBuffer.isView||function(n){return n&&o.indexOf(Object.prototype.toString.call(n))>-1};d.prototype.append=function(n,t){n=h(n),t=l(t);var r=this.map[n];this.map[n]=r?r+","+t:t},d.prototype.delete=function(n){delete this.map[h(n)]},d.prototype.get=function(n){return n=h(n),this.has(n)?this.map[n]:null},d.prototype.has=function(n){return this.map.hasOwnProperty(h(n))},d.prototype.set=function(n,t){this.map[h(n)]=l(t)},d.prototype.forEach=function(n,t){for(var r in this.map)this.map.hasOwnProperty(r)&&n.call(t,this.map[r],r,this)},d.prototype.keys=function(){var n=[];return this.forEach((function(t,r){n.push(r)})),v(n)},d.prototype.values=function(){var n=[];return this.forEach((function(t){n.push(t)})),v(n)},d.prototype.entries=function(){var n=[];return this.forEach((function(t,r){n.push([r,t])})),v(n)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},O.error=function(){var n=new O(null,{status:0,statusText:""});return n.type="error",n};var s=[301,302,303,307,308];O.redirect=function(n,t){if(-1===s.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:n}})},n.Headers=d,n.Request=g,n.Response=O,n.fetch=function(n,t){return new Promise((function(r,i){var u=new g(n,t),o=new XMLHttpRequest;o.onload=function(){var n,t,e={status:o.status,statusText:o.statusText,headers:(n=o.getAllResponseHeaders()||"",t=new d,n.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(n){var r=n.split(":"),e=r.shift().trim();if(e){var i=r.join(":").trim();t.append(e,i)}})),t)};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL"),r(new O("response"in o?o.response:o.responseText,e))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(u.method,u.url,!0),"include"===u.credentials?o.withCredentials=!0:"omit"===u.credentials&&(o.withCredentials=!1),"responseType"in o&&e&&(o.responseType="blob"),u.headers.forEach((function(n,t){o.setRequestHeader(t,n)})),o.send(void 0===u._bodyInit?null:u._bodyInit)}))},n.fetch.polyfill=!0}function h(n){if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(n))throw new TypeError("Invalid character in header field name");return n.toLowerCase()}function l(n){return"string"!=typeof n&&(n=String(n)),n}function v(n){var t={next:function(){var t=n.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(n){this.map={},n instanceof d?n.forEach((function(n,t){this.append(t,n)}),this):Array.isArray(n)?n.forEach((function(n){this.append(n[0],n[1])}),this):n&&Object.getOwnPropertyNames(n).forEach((function(t){this.append(t,n[t])}),this)}function y(n){if(n.bodyUsed)return Promise.reject(new TypeError("Already read"));n.bodyUsed=!0}function p(n){return new Promise((function(t,r){n.onload=function(){t(n.result)},n.onerror=function(){r(n.error)}}))}function b(n){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(n),r}function w(n){if(n.slice)return n.slice(0);var t=new Uint8Array(n.byteLength);return t.set(new Uint8Array(n)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(n){if(this._bodyInit=n,n)if("string"==typeof n)this._bodyText=n;else if(e&&Blob.prototype.isPrototypeOf(n))this._bodyBlob=n;else if(i&&FormData.prototype.isPrototypeOf(n))this._bodyFormData=n;else if(t&&URLSearchParams.prototype.isPrototypeOf(n))this._bodyText=n.toString();else if(u&&e&&f(n))this._bodyArrayBuffer=w(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!u||!ArrayBuffer.prototype.isPrototypeOf(n)&&!c(n))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=w(n)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof n?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e&&(this.blob=function(){var n=y(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var n,t,r,e=y(this);if(e)return e;if(this._bodyBlob)return n=this._bodyBlob,r=p(t=new FileReader),t.readAsText(n),r;if(this._bodyArrayBuffer)return Promise.resolve(function(n){for(var t=new Uint8Array(n),r=new Array(t.length),e=0;e<t.length;e++)r[e]=String.fromCharCode(t[e]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(n,t){var r,e,i=(t=t||{}).body;if(n instanceof g){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url,this.credentials=n.credentials,t.headers||(this.headers=new d(n.headers)),this.method=n.method,this.mode=n.mode,i||null==n._bodyInit||(i=n._bodyInit,n.bodyUsed=!0)}else this.url=String(n);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(e=(r=t.method||this.method||"GET").toUpperCase(),a.indexOf(e)>-1?e:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function j(n){var t=new FormData;return n.trim().split("&").forEach((function(n){if(n){var r=n.split("="),e=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(e),decodeURIComponent(i))}})),t}function O(n,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(n)}}("undefined"!=typeof self?self:void 0);const e=Object.freeze({__proto__:null}),i=r(n((function(n){var r;"undefined"!=typeof self&&self,n.exports=(r=e,function(n){var t={};function r(e){if(t[e])return t[e].exports;var i=t[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)r.d(e,i,function(t){return n[t]}.bind(null,i));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=20)}([function(n,t){t.a=function(n){var t=this.constructor;return this.then((function(r){return t.resolve(n()).then((function(){return r}))}),(function(r){return t.resolve(n()).then((function(){return t.reject(r)}))}))}},function(n,t){t.__esModule=!0,t.createPreviewResolver=function(n,t,r){return{token:n,documentId:t,resolve:function(e,i,u){return t&&r?r(t,{ref:n}).then((function(n){if(n){var t=e(n);return u&&u(null,t),t}return u&&u(null,i),i})):Promise.resolve(i)}}}},function(n,t,r){var e=this&&this.__assign||Object.assign||function(n){for(var t,r=1,e=arguments.length;r<e;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n};t.__esModule=!0;var i=r(5),u=r(4),o=r(6),f=r(12),c=r(1);t.PREVIEW_COOKIE="io.prismic.preview",t.EXPERIMENT_COOKIE="io.prismic.experiment";var a=function(){function n(n,t,r){this.data=n,this.masterRef=n.refs.filter((function(n){return n.isMasterRef}))[0],this.experiments=new i.Experiments(n.experiments),this.bookmarks=n.bookmarks,this.httpClient=t,this.options=r,this.refs=n.refs,this.tags=n.tags,this.types=n.types,this.languages=n.languages}return n.prototype.form=function(n){var t=this.data.forms[n];return t?new u.SearchForm(t,this.httpClient):null},n.prototype.everything=function(){var n=this.form("everything");if(!n)throw new Error("Missing everything form");return n},n.prototype.master=function(){return this.masterRef.ref},n.prototype.ref=function(n){var t=this.data.refs.filter((function(t){return t.label===n}))[0];return t?t.ref:null},n.prototype.currentExperiment=function(){return this.experiments.current()},n.prototype.query=function(n,r,e){void 0===e&&(e=function(){});var i="function"==typeof r?{options:{},callback:r}:{options:r||{},callback:e},u=i.options,o=i.callback,c=this.everything();for(var a in u)c=c.set(a,u[a]);if(!u.ref){var s="";this.options.req?s=this.options.req.headers.cookie||"":"undefined"!=typeof window&&window.document&&(s=window.document.cookie||"");var h=f.default.parse(s),l=h[t.PREVIEW_COOKIE],v=this.experiments.refFromCookie(h[t.EXPERIMENT_COOKIE]);c=c.ref(l||v||this.masterRef.ref)}return n&&c.query(n),c.submit(o)},n.prototype.queryFirst=function(n,t,r){var i="function"==typeof t?{options:{},callback:t}:{options:e({},t)||{},callback:r||function(){}},u=i.options,o=i.callback;return u.page=1,u.pageSize=1,this.query(n,u).then((function(n){var t=n&&n.results&&n.results[0];return o(null,t),t})).catch((function(n){throw o(n),n}))},n.prototype.getByID=function(n,t,r){var i=t?e({},t):{};return i.lang||(i.lang="*"),this.queryFirst(o.default.at("document.id",n),i,r)},n.prototype.getByIDs=function(n,t,r){var i=t?e({},t):{};return i.lang||(i.lang="*"),this.query(o.default.in("document.id",n),i,r)},n.prototype.getByUID=function(n,t,r,i){var u=r?e({},r):{};if("*"===u.lang)throw new Error("FORDIDDEN. You can't use getByUID with *, use the predicates instead.");return u.page||(u.page=1),this.queryFirst(o.default.at("my."+n+".uid",t),u,i)},n.prototype.getSingle=function(n,t,r){var i=t?e({},t):{};return this.queryFirst(o.default.at("document.type",n),i,r)},n.prototype.getBookmark=function(n,t,r){var e=this.data.bookmarks[n];return e?this.getByID(e,t,r):Promise.reject("Error retrieving bookmarked id")},n.prototype.getPreviewResolver=function(n,t){return c.createPreviewResolver(n,t,this.getByID.bind(this))},n.prototype.previewSession=function(n,t,r,e){var i=this;return console.warn("previewSession function is deprecated in favor of getPreviewResolver function."),new Promise((function(u,o){i.httpClient.request(n,(function(f,c){if(f)e&&e(f),o(f);else if(c){if(c.mainDocument)return i.getByID(c.mainDocument,{ref:n}).then((function(n){if(n){var i=t(n);e&&e(null,i),u(i)}else e&&e(null,r),u(r)})).catch(o);e&&e(null,r),u(r)}}))}))},n}();t.default=a},function(n,t,r){t.__esModule=!0;var e=r(2),i=r(11);function u(n){return n.indexOf("?")>-1?"&":"?"}var o=function(){function n(n,t){if(this.options=t||{},this.url=n,this.options.accessToken){var r="access_token="+this.options.accessToken;this.url+=u(n)+r}this.options.routes&&(this.url+=u(n)+"routes="+encodeURIComponent(JSON.stringify(this.options.routes))),this.apiDataTTL=this.options.apiDataTTL||5,this.httpClient=new i.default(this.options.requestHandler,this.options.apiCache,this.options.proxyAgent,this.options.timeoutInMs)}return n.prototype.get=function(n){var t=this;return this.httpClient.cachedRequest(this.url,{ttl:this.apiDataTTL}).then((function(r){var i=new e.default(r,t.httpClient,t.options);return n&&n(null,i),i})).catch((function(t){throw n&&n(t),t}))},n}();t.default=o},function(n,t){t.__esModule=!0;var r=function(){function n(n,t){this.id=n,this.api=t,this.fields={}}return n.prototype.set=function(n,t){return this.fields[n]=t,this},n.prototype.ref=function(n){return this.set("ref",n)},n.prototype.query=function(n){return this.set("q",n)},n.prototype.pageSize=function(n){return this.set("pageSize",n)},n.prototype.fetch=function(n){return console.warn("Warning: Using Fetch is deprecated. Use the property `graphQuery` instead."),this.set("fetch",n)},n.prototype.fetchLinks=function(n){return console.warn("Warning: Using FetchLinks is deprecated. Use the property `graphQuery` instead."),this.set("fetchLinks",n)},n.prototype.graphQuery=function(n){return this.set("graphQuery",n)},n.prototype.lang=function(n){return this.set("lang",n)},n.prototype.page=function(n){return this.set("page",n)},n.prototype.after=function(n){return this.set("after",n)},n.prototype.orderings=function(n){return this.set("orderings",n)},n.prototype.url=function(){var t=this;return this.api.get().then((function(r){return n.toSearchForm(t,r).url()}))},n.prototype.submit=function(t){var r=this;return this.api.get().then((function(e){return n.toSearchForm(r,e).submit(t)}))},n.toSearchForm=function(n,t){var r=t.form(n.id);if(r)return Object.keys(n.fields).reduce((function(t,r){var e=n.fields[r];return"q"===r?t.query(e):"pageSize"===r?t.pageSize(e):"fetch"===r?t.fetch(e):"fetchLinks"===r?t.fetchLinks(e):"graphQuery"===r?t.graphQuery(e):"lang"===r?t.lang(e):"page"===r?t.page(e):"after"===r?t.after(e):"orderings"===r?t.orderings(e):t.set(r,e)}),r);throw new Error("Unable to access to form "+n.id)},n}();t.LazySearchForm=r;var e=function(){function n(n,t){for(var r in this.httpClient=t,this.form=n,this.data={},n.fields)n.fields[r].default&&(this.data[r]=[n.fields[r].default])}return n.prototype.set=function(n,t){var r=this.form.fields[n];if(!r)throw new Error("Unknown field "+n);var e=""===t||void 0===t?null:t,i=this.data[n]||[];return i=r.multiple?e?i.concat([e]):i:e?[e]:i,this.data[n]=i,this},n.prototype.ref=function(n){return this.set("ref",n)},n.prototype.query=function(n){if("string"==typeof n)return this.query([n]);if(Array.isArray(n))return this.set("q","["+n.join("")+"]");throw new Error("Invalid query : "+n)},n.prototype.pageSize=function(n){return this.set("pageSize",n)},n.prototype.fetch=function(n){console.warn("Warning: Using Fetch is deprecated. Use the property `graphQuery` instead.");var t=Array.isArray(n)?n.join(","):n;return this.set("fetch",t)},n.prototype.fetchLinks=function(n){console.warn("Warning: Using FetchLinks is deprecated. Use the property `graphQuery` instead.");var t=Array.isArray(n)?n.join(","):n;return this.set("fetchLinks",t)},n.prototype.graphQuery=function(n){return this.set("graphQuery",n)},n.prototype.lang=function(n){return this.set("lang",n)},n.prototype.page=function(n){return this.set("page",n)},n.prototype.after=function(n){return this.set("after",n)},n.prototype.orderings=function(n){return n?this.set("orderings","["+n.join(",")+"]"):this},n.prototype.url=function(){var n=this.form.action;if(this.data){var t=n.indexOf("?")>-1?"&":"?";for(var r in this.data)if(this.data.hasOwnProperty(r)){var e=this.data[r];if(e)for(var i=0;i<e.length;i++)n+=t+r+"="+encodeURIComponent(e[i]),t="&"}}return n},n.prototype.submit=function(n){return this.httpClient.cachedRequest(this.url()).then((function(t){return n&&n(null,t),t})).catch((function(t){throw n&&n(t),t}))},n}();t.SearchForm=e},function(n,t){t.__esModule=!0;var r=function(){function n(n){this.data={},this.data=n}return n.prototype.id=function(){return this.data.id},n.prototype.ref=function(){return this.data.ref},n.prototype.label=function(){return this.data.label},n}();t.Variation=r;var e=function(){function n(n){this.data={},this.data=n,this.variations=(n.variations||[]).map((function(n){return new r(n)}))}return n.prototype.id=function(){return this.data.id},n.prototype.googleId=function(){return this.data.googleId},n.prototype.name=function(){return this.data.name},n}();t.Experiment=e;var i=function(){function n(n){n&&(this.drafts=(n.drafts||[]).map((function(n){return new e(n)})),this.running=(n.running||[]).map((function(n){return new e(n)})))}return n.prototype.current=function(){return this.running.length>0?this.running[0]:null},n.prototype.refFromCookie=function(n){if(!n||""===n.trim())return null;var t=n.trim().split(" ");if(t.length<2)return null;var r=t[0],e=parseInt(t[1],10),i=this.running.filter((function(n){return n.googleId()===r&&n.variations.length>e}))[0];return i?i.variations[e].ref():null},n}();t.Experiments=i},function(n,t){function r(n){if("string"==typeof n)return'"'+n+'"';if("number"==typeof n)return n.toString();if(n instanceof Date)return n.getTime().toString();if(Array.isArray(n))return"["+n.map((function(n){return r(n)})).join(",")+"]";if("boolean"==typeof n)return n.toString();throw new Error("Unable to encode "+n+" of type "+typeof n)}t.__esModule=!0;var e={near:function(n,t,r,e){return"[geopoint.near("+n+", "+t+", "+r+", "+e+")]"}},i={before:function(n,t){return"[date.before("+n+", "+r(t)+")]"},after:function(n,t){return"[date.after("+n+", "+r(t)+")]"},between:function(n,t,e){return"[date.between("+n+", "+r(t)+", "+r(e)+")]"},dayOfMonth:function(n,t){return"[date.day-of-month("+n+", "+t+")]"},dayOfMonthAfter:function(n,t){return"[date.day-of-month-after("+n+", "+t+")]"},dayOfMonthBefore:function(n,t){return"[date.day-of-month-before("+n+", "+t+")]"},dayOfWeek:function(n,t){return"[date.day-of-week("+n+", "+r(t)+")]"},dayOfWeekAfter:function(n,t){return"[date.day-of-week-after("+n+", "+r(t)+")]"},dayOfWeekBefore:function(n,t){return"[date.day-of-week-before("+n+", "+r(t)+")]"},month:function(n,t){return"[date.month("+n+", "+r(t)+")]"},monthBefore:function(n,t){return"[date.month-before("+n+", "+r(t)+")]"},monthAfter:function(n,t){return"[date.month-after("+n+", "+r(t)+")]"},year:function(n,t){return"[date.year("+n+", "+t+")]"},hour:function(n,t){return"[date.hour("+n+", "+t+")]"},hourBefore:function(n,t){return"[date.hour-before("+n+", "+t+")]"},hourAfter:function(n,t){return"[date.hour-after("+n+", "+t+")]"}},u={gt:function(n,t){return"[number.gt("+n+", "+t+")]"},lt:function(n,t){return"[number.lt("+n+", "+t+")]"},inRange:function(n,t,r){return"[number.inRange("+n+", "+t+", "+r+")]"}};t.default={at:function(n,t){return"[at("+n+", "+r(t)+")]"},not:function(n,t){return"[not("+n+", "+r(t)+")]"},missing:function(n){return"[missing("+n+")]"},has:function(n){return"[has("+n+")]"},any:function(n,t){return"[any("+n+", "+r(t)+")]"},in:function(n,t){return"[in("+n+", "+r(t)+")]"},fulltext:function(n,t){return"[fulltext("+n+", "+r(t)+")]"},similar:function(n,t){return'[similar("'+n+'", '+t+")]"},date:i,dateBefore:i.before,dateAfter:i.after,dateBetween:i.between,dayOfMonth:i.dayOfMonth,dayOfMonthAfter:i.dayOfMonthAfter,dayOfMonthBefore:i.dayOfMonthBefore,dayOfWeek:i.dayOfWeek,dayOfWeekAfter:i.dayOfWeekAfter,dayOfWeekBefore:i.dayOfWeekBefore,month:i.month,monthBefore:i.monthBefore,monthAfter:i.monthAfter,year:i.year,hour:i.hour,hourBefore:i.hourBefore,hourAfter:i.hourAfter,number:u,gt:u.gt,lt:u.lt,inRange:u.inRange,near:e.near,geopoint:e}},function(n,t,r){(function(n){var e=r(0),i=setTimeout;function u(){}function o(n){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(n,this)}function f(n,t){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,o._immediateFn((function(){var r=1===n._state?t.onFulfilled:t.onRejected;if(null!==r){var e;try{e=r(n._value)}catch(n){return void a(t.promise,n)}c(t.promise,e)}else(1===n._state?c:a)(t.promise,n._value)}))):n._deferreds.push(t)}function c(n,t){try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof o)return n._state=3,n._value=t,void s(n);if("function"==typeof r)return void h(function(n,t){return function(){n.apply(t,arguments)}}(r,t),n)}n._state=1,n._value=t,s(n)}catch(t){a(n,t)}}function a(n,t){n._state=2,n._value=t,s(n)}function s(n){2===n._state&&0===n._deferreds.length&&o._immediateFn((function(){n._handled||o._unhandledRejectionFn(n._value)}));for(var t=0,r=n._deferreds.length;t<r;t++)f(n,n._deferreds[t]);n._deferreds=null}function h(n,t){var r=!1;try{n((function(n){r||(r=!0,c(t,n))}),(function(n){r||(r=!0,a(t,n))}))}catch(n){if(r)return;r=!0,a(t,n)}}o.prototype.catch=function(n){return this.then(null,n)},o.prototype.then=function(n,t){var r=new this.constructor(u);return f(this,new function(n,t,r){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=r}(n,t,r)),r},o.prototype.finally=e.a,o.all=function(n){return new o((function(t,r){if(!n||void 0===n.length)throw new TypeError("Promise.all accepts an array");var e=Array.prototype.slice.call(n);if(0===e.length)return t([]);var i=e.length;function u(n,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var f=o.then;if("function"==typeof f)return void f.call(o,(function(t){u(n,t)}),r)}e[n]=o,0==--i&&t(e)}catch(n){r(n)}}for(var o=0;o<e.length;o++)u(o,e[o])}))},o.resolve=function(n){return n&&"object"==typeof n&&n.constructor===o?n:new o((function(t){t(n)}))},o.reject=function(n){return new o((function(t,r){r(n)}))},o.race=function(n){return new o((function(t,r){for(var e=0,i=n.length;e<i;e++)n[e].then(t,r)}))},o._immediateFn="function"==typeof n&&function(t){n(t)}||function(n){i(n,0)},o._unhandledRejectionFn=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n)},t.a=o}).call(this,r(18).setImmediate)},function(n,t){t.__esModule=!0;var r=function(){function n(n){this.options=n||{}}return n.prototype.request=function(n,t){!function(n,t,r){var e,i={headers:{Accept:"application/json"}};t&&t.proxyAgent&&(i.agent=t.proxyAgent);var u=fetch(n,i);(t.timeoutInMs?Promise.race([u,new Promise((function(r,i){e=setTimeout((function(){return i(new Error(n+" response timeout"))}),t.timeoutInMs)}))]):u).then((function(t){return clearTimeout(e),~~(t.status/100!=2)?t.text().then((function(){var r=new Error("Unexpected status code ["+t.status+"] on URL "+n);throw r.status=t.status,r})):t.json().then((function(n){var e=t.headers.get("cache-control"),i=e?/max-age=(\d+)/.exec(e):null,u=i?parseInt(i[1],10):void 0;r(null,n,t,u)}))})).catch((function(n){clearTimeout(e),r(n)}))}(n,this.options,t)},n}();t.DefaultRequestHandler=r},function(n,t){function r(n){this.size=0,this.limit=n,this._keymap={}}t.__esModule=!0,t.MakeLRUCache=function(n){return new r(n)},r.prototype.put=function(n,t){var r={key:n,value:t};if(this._keymap[n]=r,this.tail?(this.tail.newer=r,r.older=this.tail):this.head=r,this.tail=r,this.size===this.limit)return this.shift();this.size++},r.prototype.shift=function(){var n=this.head;return n&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,n.newer=n.older=void 0,delete this._keymap[n.key]),console.log("purging ",n.key),n},r.prototype.get=function(n,t){var r=this._keymap[n];if(void 0!==r)return r===this.tail||(r.newer&&(r===this.head&&(this.head=r.newer),r.newer.older=r.older),r.older&&(r.older.newer=r.newer),r.newer=void 0,r.older=this.tail,this.tail&&(this.tail.newer=r),this.tail=r),t?r:r.value},r.prototype.find=function(n){return this._keymap[n]},r.prototype.set=function(n,t){var r,e=this.get(n,!0);return e?(r=e.value,e.value=t):(r=this.put(n,t))&&(r=r.value),r},r.prototype.remove=function(n){var t=this._keymap[n];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):this.head=this.tail=void 0,this.size--,t.value},r.prototype.removeAll=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},r.prototype.keys="function"==typeof Object.keys?function(){return Object.keys(this._keymap)}:function(){var n=[];for(var t in this._keymap)n.push(t);return n},r.prototype.forEach=function(n,t,r){var e;if(!0===t?(r=!0,t=void 0):"object"!=typeof t&&(t=this),r)for(e=this.tail;e;)n.call(t,e.key,e.value,this),e=e.older;else for(e=this.head;e;)n.call(t,e.key,e.value,this),e=e.newer},r.prototype.toString=function(){for(var n="",t=this.head;t;)n+=String(t.key)+":"+t.value,(t=t.newer)&&(n+=" < ");return n}},function(n,t,r){t.__esModule=!0;var e=r(9),i=function(){function n(n){void 0===n&&(n=1e3),this.lru=e.MakeLRUCache(n)}return n.prototype.isExpired=function(n){var t=this.lru.get(n,!1);return!!t&&0!==t.expiredIn&&t.expiredIn<Date.now()},n.prototype.get=function(n,t){var r=this.lru.get(n,!1);r&&!this.isExpired(n)?t(null,r.data):t&&t(null)},n.prototype.set=function(n,t,r,e){this.lru.remove(n),this.lru.put(n,{data:t,expiredIn:r?Date.now()+1e3*r:0}),e&&e(null)},n.prototype.remove=function(n,t){this.lru.remove(n),t&&t(null)},n.prototype.clear=function(n){this.lru.removeAll(),n&&n(null)},n}();t.DefaultApiCache=i},function(n,t,r){t.__esModule=!0;var e=r(10),i=r(8),u=function(){function n(n,t,r,u){this.requestHandler=n||new i.DefaultRequestHandler({proxyAgent:r,timeoutInMs:u}),this.cache=t||new e.DefaultApiCache}return n.prototype.request=function(n,t){this.requestHandler.request(n,(function(n,r,e,i){n?t&&t(n,null,e,i):r&&t&&t(null,r,e,i)}))},n.prototype.cachedRequest=function(n,t){var r=this,e=t||{};return new Promise((function(t,i){!function(t){var i=e.cacheKey||n;r.cache.get(i,(function(u,o){u||o?t(u,o):r.request(n,(function(n,u,o,f){if(n)t(n,null);else{var c=f||e.ttl;c&&r.cache.set(i,u,c,t),t(null,u)}}))}))}((function(n,r){n&&i(n),r&&t(r)}))}))},n}();t.default=u},function(n,t){t.__esModule=!0;var r=decodeURIComponent;t.default={parse:function(n,t){if("string"!=typeof n)throw new TypeError("argument str must be a string");var e={},i=t||{},u=n.split(/; */),o=i.decode||r;return u.forEach((function(n){var t=n.indexOf("=");if(!(t<0)){var r=n.substr(0,t).trim(),i=n.substr(++t,n.length).trim();'"'==i[0]&&(i=i.slice(1,-1)),null==e[r]&&(e[r]=function(n,t){try{return t(n)}catch(t){return n}}(i,o))}})),e}}},function(n,t,r){t.__esModule=!0;var e=r(4),i=r(3),u=r(1),o=function(){function n(n,t){this.api=new i.default(n,t)}return n.prototype.getApi=function(){return this.api.get()},n.prototype.everything=function(){return this.form("everything")},n.prototype.form=function(n){return new e.LazySearchForm(n,this.api)},n.prototype.query=function(n,t,r){return this.getApi().then((function(e){return e.query(n,t,r)}))},n.prototype.queryFirst=function(n,t,r){return this.getApi().then((function(e){return e.queryFirst(n,t,r)}))},n.prototype.getByID=function(n,t,r){return this.getApi().then((function(e){return e.getByID(n,t,r)}))},n.prototype.getByIDs=function(n,t,r){return this.getApi().then((function(e){return e.getByIDs(n,t,r)}))},n.prototype.getByUID=function(n,t,r,e){return this.getApi().then((function(i){return i.getByUID(n,t,r,e)}))},n.prototype.getSingle=function(n,t,r){return this.getApi().then((function(e){return e.getSingle(n,t,r)}))},n.prototype.getBookmark=function(n,t,r){return this.getApi().then((function(e){return e.getBookmark(n,t,r)}))},n.prototype.previewSession=function(n,t,r,e){return this.getApi().then((function(i){return i.previewSession(n,t,r,e)}))},n.prototype.getPreviewResolver=function(n,t){var r=this;return u.createPreviewResolver(n,t,(function(n){return r.getApi().then((function(t){return t.getByID(n)}))}))},n.getApi=function(n,t){return new i.default(n,t).get()},n}();t.DefaultClient=o},function(n,t,r){var e,i=r(6),u=r(5),o=r(13),f=r(3),c=r(2);!function(n){function t(n,t){return o.DefaultClient.getApi(n,t)}n.experimentCookie=c.EXPERIMENT_COOKIE,n.previewCookie=c.PREVIEW_COOKIE,n.Predicates=i.default,n.Experiments=u.Experiments,n.Api=f.default,n.client=function(n,t){return new o.DefaultClient(n,t)},n.getApi=t,n.api=function(n,r){return t(n,r)}}(e||(e={})),n.exports=e},function(n){n.exports=r},function(n){var t,r,e=n.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function o(n){if(t===setTimeout)return setTimeout(n,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(n,0);try{return t(n,0)}catch(r){try{return t.call(null,n,0)}catch(r){return t.call(this,n,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(n){t=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(n){r=u}}();var f,c=[],a=!1,s=-1;function h(){a&&f&&(a=!1,f.length?c=f.concat(c):s=-1,c.length&&l())}function l(){if(!a){var n=o(h);a=!0;for(var t=c.length;t;){for(f=c,c=[];++s<t;)f&&f[s].run();s=-1,t=c.length}f=null,a=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(t){try{return r.call(null,n)}catch(t){return r.call(this,n)}}}(n)}}function v(n,t){this.fun=n,this.array=t}function d(){}e.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new v(n,t)),1!==c.length||a||o(l)},v.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.prependListener=d,e.prependOnceListener=d,e.listeners=function(){return[]},e.binding=function(){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(n,r,e){(function(n){!function(t){if(!t.setImmediate){var r,e=1,i={},u=!1,o=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){n.nextTick((function(){a(t)}))}:function(){if(t.postMessage&&!t.importScripts){var n=!0,r=t.onmessage;return t.onmessage=function(){n=!1},t.postMessage("","*"),t.onmessage=r,n}}()?function(){var n="setImmediate$"+Math.random()+"$",e=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(n)&&a(+r.data.slice(n.length))};t.addEventListener?t.addEventListener("message",e,!1):t.attachEvent("onmessage",e),r=function(r){t.postMessage(n+r,"*")}}():t.MessageChannel?function(){var n=new MessageChannel;n.port1.onmessage=function(n){a(n.data)},r=function(t){n.port2.postMessage(t)}}():o&&"onreadystatechange"in o.createElement("script")?function(){var n=o.documentElement;r=function(t){var r=o.createElement("script");r.onreadystatechange=function(){a(t),r.onreadystatechange=null,n.removeChild(r),r=null},n.appendChild(r)}}():r=function(n){setTimeout(a,0,n)},f.setImmediate=function(n){"function"!=typeof n&&(n=new Function(""+n));for(var t=new Array(arguments.length-1),u=0;u<t.length;u++)t[u]=arguments[u+1];var o={callback:n,args:t};return i[e]=o,r(e),e++},f.clearImmediate=c}function c(n){delete i[n]}function a(n){if(u)setTimeout(a,0,n);else{var t=i[n];if(t){u=!0;try{!function(n){var t=n.callback,r=n.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{c(n),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,e(16))},function(n,r,e){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,u=Function.prototype.apply;function o(n,t){this._id=n,this._clearFn=t}r.setTimeout=function(){return new o(u.call(setTimeout,i,arguments),clearTimeout)},r.setInterval=function(){return new o(u.call(setInterval,i,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(n){n&&n.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},r.enroll=function(n,t){clearTimeout(n._idleTimeoutId),n._idleTimeout=t},r.unenroll=function(n){clearTimeout(n._idleTimeoutId),n._idleTimeout=-1},r._unrefActive=r.active=function(n){clearTimeout(n._idleTimeoutId);var t=n._idleTimeout;t>=0&&(n._idleTimeoutId=setTimeout((function(){n._onTimeout&&n._onTimeout()}),t))},e(17),r.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,r.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate},function(n,r,e){e.r(r);var i=e(7),u=e(0),o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();o.Promise?o.Promise.prototype.finally||(o.Promise.prototype.finally=u.a):o.Promise=i.a},function(n,t,r){r(19),r(15),n.exports=r(14)}]))}))),u=r(n((function(n){"undefined"!=typeof self&&self,n.exports=function(n){var t={};function r(e){if(t[e])return t[e].exports;var i=t[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)r.d(e,i,function(t){return n[t]}.bind(null,i));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=1)}([function(n){n.exports=function(n){var t={};function r(e){if(t[e])return t[e].exports;var i=t[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)r.d(e,i,function(t){return n[t]}.bind(null,i));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=0)}([function(n,t,r){n.exports=r(1)},function(n,t,r){var e=r(2),i=r(3);n.exports={Link:e,Date:i}},function(n){n.exports={url:function(n,t){if(n&&[n.link_type,n._linkType,n.linkType].some((function(n){return n&&["Document","Link.Document","Link.document"].includes(n)}))&&t&&"function"==typeof t){var r=t(n);if(r)return r}return n&&n.url?n.url:""}}},function(n){n.exports=function(n){if(!n)return null;var t=24==n.length?"".concat(n.substring(0,22),":").concat(n.substring(22,24)):n;return new Date(t)}}])},function(n,t,r){n.exports=r(2)},function(n,t,r){var e=r(0),i=r(3);n.exports={Date:e.Date,Link:e.Link,RichText:i}},function(n,t,r){var e=r(4),i=r(0).Link,u=r(5),o=e.Elements;function f(n,t,r,e,f){switch(t){case o.heading1:return a("h1",r,f);case o.heading2:return a("h2",r,f);case o.heading3:return a("h3",r,f);case o.heading4:return a("h4",r,f);case o.heading5:return a("h5",r,f);case o.heading6:return a("h6",r,f);case o.paragraph:return a("p",r,f);case o.preformatted:return function(n){return"<pre".concat(c(n),">").concat(u(n.text),"</pre>")}(r);case o.strong:return a("strong",r,f);case o.em:return a("em",r,f);case o.listItem:case o.oListItem:return a("li",r,f);case o.list:return a("ul",r,f);case o.oList:return a("ol",r,f);case o.image:return function(n,t){var r=t.linkTo?i.url(t.linkTo,n):null,e=t.linkTo&&t.linkTo.target?'target="'.concat(t.linkTo.target,'" rel="noopener"'):"",u=[t.label||"","block-img"],o='<img src="'.concat(t.url,'" alt="').concat(t.alt||"",'" copyright="').concat(t.copyright||"",'">');return'\n    <p class="'.concat(u.join(" "),'">\n      ').concat(r?"<a ".concat(e,' href="').concat(r,'">').concat(o,"</a>"):o,"\n    </p>\n  ")}(n,r);case o.embed:return function(n){return'\n    <div data-oembed="'.concat(n.oembed.embed_url,'"\n      data-oembed-type="').concat(n.oembed.type,'"\n      data-oembed-provider="').concat(n.oembed.provider_name,'"\n      ').concat(c(n),">\n          \n      ").concat(n.oembed.html,"\n    </div>\n  ")}(r);case o.hyperlink:return function(n,t,r){var e=t.data.target?'target="'.concat(t.data.target,'" rel="noopener"'):"";return"<a ".concat(e,' href="').concat(i.url(t.data,n),'">').concat(r.join(""),"</a>")}(n,r,f);case o.label:return function(n,t){return"<span ".concat(c(n.data),">").concat(t.join(""),"</span>")}(r,f);case o.span:return function(n){return n?u(n).replace(/\n/g,"<br />"):""}(e);default:return""}}function c(n){return n.label?' class="'.concat(n.label,'"'):""}function a(n,t,r){return"<".concat(n).concat(c(t),">").concat(r.join(""),"</").concat(n,">")}n.exports={asText:function(n,t){return e.asText(n,t)},asHtml:function(n,t,r){return e.serialize(n,f.bind(null,t),r).join("")},Elements:o}},function(n){n.exports=function(n){var t={};function r(e){if(t[e])return t[e].exports;var i=t[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)r.d(e,i,function(t){return n[t]}.bind(null,i));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=9)}([function(n,t,r){var e=r(3);n.exports=function(n){return function t(r){return 0===arguments.length||e(r)?t:n.apply(this,arguments)}}},function(n,t,r){var e=r(0),i=r(3);n.exports=function(n){return function t(r,u){switch(arguments.length){case 0:return t;case 1:return i(r)?t:e((function(t){return n(r,t)}));default:return i(r)&&i(u)?t:i(r)?e((function(t){return n(t,u)})):i(u)?e((function(t){return n(r,t)})):n(r,u)}}}},function(n,t){var r;function e(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}Object.defineProperty(t,"__esModule",{value:!0}),t.PRIORITIES=t.NODE_TYPES=void 0;var i={heading1:"heading1",heading2:"heading2",heading3:"heading3",heading4:"heading4",heading5:"heading5",heading6:"heading6",paragraph:"paragraph",preformatted:"preformatted",strong:"strong",em:"em",listItem:"list-item",oListItem:"o-list-item",list:"group-list-item",oList:"group-o-list-item",image:"image",embed:"embed",hyperlink:"hyperlink",label:"label",span:"span"};t.NODE_TYPES=i;var u=(e(r={},i.heading1,4),e(r,i.heading2,4),e(r,i.heading3,4),e(r,i.heading4,4),e(r,i.heading5,4),e(r,i.heading6,4),e(r,i.paragraph,3),e(r,i.preformatted,5),e(r,i.strong,6),e(r,i.em,6),e(r,i.oList,1),e(r,i.list,1),e(r,i.listItem,1),e(r,i.oListItem,1),e(r,i.image,1),e(r,i.embed,1),e(r,i.hyperlink,3),e(r,i.label,4),e(r,i.span,7),r);t.PRIORITIES=u},function(n){n.exports=function(n){return null!=n&&"object"==typeof n&&!0===n["@@functional/placeholder"]}},function(n,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=l(r(12)),i=l(r(15)),u=l(r(16)),o=l(r(17)),f=l(r(21)),c=l(r(7)),a=r(23),s=r(2),h=r(8);function l(n){return n&&n.__esModule?n:{default:n}}function v(n){return function(n,t){return t.reduce((function(n,t){var r=(0,f.default)(n);if(r){if(r.some((function(n){return n.isParentOf(t)})))return(0,o.default)(n).concat([r.concat(t)]);var e=(0,f.default)(r);return e&&function(n,t){return n.end>=t.start}(e,t)?(0,o.default)(n).concat([r.concat(t)]):n.concat([[t]])}return[[t]]}),[])}(0,(0,u.default)([function(n,t){return n.start-t.start},function(n,t){return n.end-t.end}],n))}function d(n){if(0===n.length)throw new Error("Unable to elect node on empty list");var t=function(n){return function(n){if(Array.isArray(n))return n}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(n.sort((function(n,t){if(n.isParentOf(t))return-1;if(t.isParentOf(n))return 1;var r=s.PRIORITIES[n.type]-s.PRIORITIES[t.type];return 0===r?n.text.length-t.text.length:r})));return{elected:t[0],others:t.slice(1)}}function y(n,t,r){if(t.length>0)return function(n,t,r){return t.reduce((function(e,i,u){var o=[],f=u===t.length-1&&r.upper>i.end;if(0===u&&i.start>r.lower){var c=new h.TextNode(r.lower,i.start,n.slice(r.lower,i.start));o=o.concat(c)}else{var a=t[u-1];if(a&&i.start>a.end){var s=n.slice(a.end,i.start),l=new h.TextNode(a.end,i.start,s);o=o.concat(l)}}if(o=o.concat(i),f){var v=new h.TextNode(i.end,r.upper,n.slice(i.end,r.upper));o=o.concat(v)}return e.concat(o)}),[])}(n,p(n,t),r);var e=n.slice(r.lower,r.upper);return[new h.TextNode(r.lower,r.upper,e)]}function p(n,t){var r=v((0,i.default)((function(n){return n.start}),t)).map(d),u=(0,e.default)(r.map((function(t){return function(n,t){var r=t.others.reduce((function(r,e){var i=r.inner,u=r.outer,o=function(n,t,r){return r.start<t.start?{inner:h.SpanNode.slice(r,t.start,r.end,n),outer:h.SpanNode.slice(r,r.start,t.start,n)}:r.end>t.end?{inner:h.SpanNode.slice(r,r.start,t.end,n),outer:h.SpanNode.slice(r,t.end,r.end,n)}:{inner:r}}(n,t.elected,e);return{inner:i.concat(o.inner),outer:o.outer?u.concat(o.outer):u}}),{inner:[],outer:[]}),e=r.outer;return[t.elected.setChildren(y(n,r.inner,t.elected.boundaries()))].concat(p(n,e))}(n,t)})));return(0,i.default)((function(n){return n.start}),u)}var b=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}var t;return(t=[{key:"fromRichText",value:function(n){return{key:(0,c.default)(),children:n.reduce((function(n,t){if(a.RichTextBlock.isEmbedBlock(t.type)||a.RichTextBlock.isImageBlock(t.type))return n.concat(new h.BlockNode(t.type,t));var r=function(n){var t=n.spans.map((function(t){var r=n.text.slice(t.start,t.end);return new h.SpanNode(t.start,t.end,t.type,r,[],t)}));return y(n.text,t,{lower:0,upper:n.text.length})}(t),e=n[n.length-1];if(a.RichTextBlock.isListItem(t.type)&&e&&e instanceof h.ListBlockNode){var i=new h.ListItemBlockNode(t,r),u=e.addChild(i);return(0,o.default)(n).concat(u)}if(a.RichTextBlock.isOrderedListItem(t.type)&&e&&e instanceof h.OrderedListBlockNode){var f=new h.OrderedListItemBlockNode(t,r),c=e.addChild(f);return(0,o.default)(n).concat(c)}if(a.RichTextBlock.isListItem(t.type)){var s=new h.ListItemBlockNode(t,r),l=new h.ListBlockNode(a.RichTextBlock.emptyList(),[s]);return n.concat(l)}if(a.RichTextBlock.isOrderedListItem(t.type)){var v=new h.OrderedListItemBlockNode(t,r),d=new h.OrderedListBlockNode(a.RichTextBlock.emptyOrderedList(),[v]);return n.concat(d)}return n.concat(new h.BlockNode(t.type,t,r))}),[])}}}])&&function(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}(n,t),n}();t.default=b},function(n){n.exports=Array.isArray||function(n){return null!=n&&n.length>=0&&"[object Array]"===Object.prototype.toString.call(n)}},function(n){n.exports=function(n){return"[object String]"===Object.prototype.toString.call(n)}},function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==t?r:3&r|8).toString(16)}))}},function(n,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ListBlockNode=t.OrderedListBlockNode=t.OrderedListItemBlockNode=t.ListItemBlockNode=t.BlockNode=t.TextNode=t.SpanNode=t.Node=void 0;var e,i=(e=r(7))&&e.__esModule?e:{default:e},u=r(2);function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function f(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function c(n,t,r){return t&&f(n.prototype,t),r&&f(n,r),n}function a(n,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function s(n){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&function(n,t){(Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}(n,t)}function l(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var v=function n(t,r,e){l(this,n),this.key=(0,i.default)(),this.type=t,this.element=r,this.children=e};t.Node=v;var d=function(){function n(t,r,e,i,u,o){var f;return l(this,n),(f=a(this,s(n).call(this,e,o,u))).start=t,f.end=r,f.text=i,f.children=u,f}return h(n,v),c(n,[{key:"boundaries",value:function(){return{lower:this.start,upper:this.end}}},{key:"isParentOf",value:function(n){return this.start<=n.start&&this.end>=n.end}},{key:"setChildren",value:function(t){return new n(this.start,this.end,this.type,this.text,t,this.element)}}],[{key:"slice",value:function(t,r,e,i){return new n(r,e,t.type,i.slice(r,e),t.children,t.element)}}]),n}();t.SpanNode=d;var y=function(){function n(t,r,e){l(this,n);var i={type:u.NODE_TYPES.span,start:t,end:r,text:e};return a(this,s(n).call(this,t,r,u.NODE_TYPES.span,e,[],i))}return h(n,d),n}();t.TextNode=y;var p=function(){function n(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return l(this,n),a(this,s(n).call(this,t,r,e))}return h(n,v),n}();t.BlockNode=p;var b=function(){function n(t,r){return l(this,n),a(this,s(n).call(this,u.NODE_TYPES.listItem,t,r))}return h(n,p),n}();t.ListItemBlockNode=b;var w=function(){function n(t,r){return l(this,n),a(this,s(n).call(this,u.NODE_TYPES.oListItem,t,r))}return h(n,p),n}();t.OrderedListItemBlockNode=w;var m=function(){function n(t,r){return l(this,n),a(this,s(n).call(this,u.NODE_TYPES.oList,t,r))}return h(n,p),c(n,[{key:"addChild",value:function(t){var r=this.children.concat(t);return new n(this.element,r)}}]),n}();t.OrderedListBlockNode=m;var g=function(){function n(t,r){return l(this,n),a(this,s(n).call(this,u.NODE_TYPES.list,t,r))}return h(n,p),c(n,[{key:"addChild",value:function(t){var r=this.children.concat(t);return new n(this.element,r)}}]),n}();t.ListBlockNode=g},function(n,t,r){n.exports=r(10)},function(n,t,r){var e=f(r(11)),i=f(r(4)),u=f(r(24)),o=r(2);function f(n){return n&&n.__esModule?n:{default:n}}n.exports={asText:e.default,asTree:i.default.fromRichText,serialize:u.default,Elements:o.NODE_TYPES}},function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(n,t){var r="string"==typeof t?t:" ";return n.map((function(n){return n.text})).join(r)}},function(n,t,r){var e=r(0)(r(13)(!0));n.exports=e},function(n,t,r){var e=r(14);n.exports=function(n){return function t(r){for(var i,u,o,f=[],c=0,a=r.length;c<a;){if(e(r[c]))for(o=0,u=(i=n?t(r[c]):r[c]).length;o<u;)f[f.length]=i[o],o+=1;else f[f.length]=r[c];c+=1}return f}}},function(n,t,r){var e=r(0),i=r(5),u=r(6),o=e((function(n){return!!i(n)||!!n&&"object"==typeof n&&!u(n)&&(1===n.nodeType?!!n.length:0===n.length||n.length>0&&n.hasOwnProperty(0)&&n.hasOwnProperty(n.length-1))}));n.exports=o},function(n,t,r){var e=r(1)((function(n,t){return Array.prototype.slice.call(t,0).sort((function(t,r){var e=n(t),i=n(r);return e<i?-1:e>i?1:0}))}));n.exports=e},function(n,t,r){var e=r(1)((function(n,t){return Array.prototype.slice.call(t,0).sort((function(t,r){for(var e=0,i=0;0===e&&i<n.length;)e=n[i](t,r),i+=1;return e}))}));n.exports=e},function(n,t,r){var e=r(18)(0,-1);n.exports=e},function(n,t,r){var e=r(19),i=r(20)(e("slice",(function(n,t,r){return Array.prototype.slice.call(r,n,t)})));n.exports=i},function(n,t,r){var e=r(5);n.exports=function(n,t){return function(){var r=arguments.length;if(0===r)return t();var i=arguments[r-1];return e(i)||"function"!=typeof i[n]?t.apply(this,arguments):i[n].apply(i,Array.prototype.slice.call(arguments,0,r-1))}}},function(n,t,r){var e=r(0),i=r(1),u=r(3);n.exports=function(n){return function t(r,o,f){switch(arguments.length){case 0:return t;case 1:return u(r)?t:i((function(t,e){return n(r,t,e)}));case 2:return u(r)&&u(o)?t:u(r)?i((function(t,r){return n(t,o,r)})):u(o)?i((function(t,e){return n(r,t,e)})):e((function(t){return n(r,o,t)}));default:return u(r)&&u(o)&&u(f)?t:u(r)&&u(o)?i((function(t,r){return n(t,r,f)})):u(r)&&u(f)?i((function(t,r){return n(t,o,r)})):u(o)&&u(f)?i((function(t,e){return n(r,t,e)})):u(r)?e((function(t){return n(t,o,f)})):u(o)?e((function(t){return n(r,t,f)})):u(f)?e((function(t){return n(r,o,t)})):n(r,o,f)}}}},function(n,t,r){var e=r(22)(-1);n.exports=e},function(n,t,r){var e=r(1),i=r(6),u=e((function(n,t){var r=n<0?t.length+n:n;return i(t)?t.charAt(r):t[r]}));n.exports=u},function(n,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextBlock=void 0;var e=r(2),i=function(){function n(t,r,e){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.type=t,this.text=r,this.spans=e}var t;return(t=[{key:"isEmbedBlock",value:function(n){return n===e.NODE_TYPES.embed}},{key:"isImageBlock",value:function(n){return n===e.NODE_TYPES.image}},{key:"isList",value:function(n){return n===e.NODE_TYPES.list}},{key:"isOrderedList",value:function(n){return n===e.NODE_TYPES.oList}},{key:"isListItem",value:function(n){return n===e.NODE_TYPES.listItem}},{key:"isOrderedListItem",value:function(n){return n===e.NODE_TYPES.oListItem}},{key:"emptyList",value:function(){return{type:e.NODE_TYPES.list,spans:[],text:""}}},{key:"emptyOrderedList",value:function(){return{type:e.NODE_TYPES.oList,spans:[],text:""}}}])&&function(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}(n,t),n}();t.RichTextBlock=i},function(n,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e,i=(e=r(4))&&e.__esModule?e:{default:e},u=r(8);t.default=function(n,t,r){return i.default.fromRichText(n).children.map((function(n,e){return function(n,t,r,e){return function n(r,i){var o=r instanceof u.SpanNode?r.text:null,f=r.children.reduce((function(t,r,e){return t.concat([n(r,e)])}),[]);return e&&e(r.type,r.element,o,f,i)||t(r.type,r.element,o,f,i)}(n,r)}(n,t,e,r)}))}}])},function(n){
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */
var t=/["'&<>]/;n.exports=function(n){var r,e=""+n,i=t.exec(e);if(!i)return e;var u="",o=0,f=0;for(o=i.index;o<e.length;o++){switch(e.charCodeAt(o)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}f!==o&&(u+=e.substring(f,o)),f=o+1,u+=r}return f!==o?u+e.substring(f,o):u}}])})));export{i as P,u as a}